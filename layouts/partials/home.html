{{ $hangers := .Site.Pages }}
{{ range .Site.Home.Translations }}
  {{ $hangers = $hangers | lang.Merge .Site.RegularPages }}
{{ end }}
<div id="schrank">
    <div id="klamotten">
        <div class="kleiderstange home"></div>
        <ul>
          {{- range where $hangers "Params.type" "eq" "hanger" -}}
            {{- $title := .Params.title -}}
            {{- $front := .Resources.GetMatch "front*" -}}
            {{- $thumb := $front.Resize "330x webp picture" -}}
            {{- $large := $front.Resize "1600x webp picture" -}}
            {{- $content := (partial "page.html" .) -}}
            {{- $id := delimit (shuffle (seq 1 9)) "" -}}
            <li>
              <div class="hanger-post-content" id="{{ $id }}" style="display: none;">{{ $content | safeHTML }}</div>
              <img class="buegel" src="{{ $thumb.RelPermalink }}" alt="{{ .Title }}" data-image="{{ $large.RelPermalink }}" data-content-id="{{ $id }}"/>
            </li>
          {{ end }}
        </ul>
      </div>
      <div id="kleidungsstueck">
        </div>
      <script>
        var elem = "#klamotten";
        if (typeof elem === 'string') {
          elem = document.querySelector(elem);
        }
        initFlipster(elem);
        //initSlider(elem);
      </script>
</div>

{{- $hangers := where $hangers "Section" "in" "post" -}}
{{- $latest := (where $hangers "Page.Date" "ge" (now.AddDate 0 0 -7)).ByDate.Reverse -}}

{{- with $latest -}}
  {{- partial "week.html" . -}}
{{- end -}}

{{- $pages := where (where .Site.Pages "Params.displayInList" "!=" false) "Params.type" "eq" "text" -}}

{{- $paginator := .Paginate $pages -}}
<div class="post-list">
  {{- range $paginator.Pages  -}}
    {{ partial "page.html" . }}
  {{ end }}
</div>
{{ if or ($paginator.HasPrev) ($paginator.HasNext) -}}
  {{- partial "pagination.html" (dict "context" . "paginator" $paginator) -}}
{{- end }}
